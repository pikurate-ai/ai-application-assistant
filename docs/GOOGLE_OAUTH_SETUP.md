# Google OAuth 2.0 μ„¤μ • μƒμ„Έ κ°€μ΄λ“

## π“ λ©μ°¨
1. [Google Cloud Console ν”„λ΅μ νΈ μƒμ„±](#1-google-cloud-console-ν”„λ΅μ νΈ-μƒμ„±)
2. [API ν™μ„±ν™”](#2-api-ν™μ„±ν™”)
3. [OAuth λ™μ ν™”λ©΄ κµ¬μ„±](#3-oauth-λ™μ-ν™”λ©΄-κµ¬μ„±)
4. [OAuth 2.0 ν΄λΌμ΄μ–ΈνΈ ID μƒμ„±](#4-oauth-20-ν΄λΌμ΄μ–ΈνΈ-id-μƒμ„±)
5. [ν™κ²½ λ³€μ μ„¤μ •](#5-ν™κ²½-λ³€μ-μ„¤μ •)

---

## 1. Google Cloud Console ν”„λ΅μ νΈ μƒμ„±

### λ‹¨κ³„ 1-1: Google Cloud Console μ ‘μ†
1. λΈλΌμ°μ €μ—μ„ https://console.cloud.google.com μ ‘μ†
2. Google κ³„μ •μΌλ΅ λ΅κ·ΈμΈ (ν”Όνλ μ‡ μ—…λ¬΄μ© κ³„μ • κ¶μ¥)

### λ‹¨κ³„ 1-2: μƒ ν”„λ΅μ νΈ λ§λ“¤κΈ°
1. ν™”λ©΄ μƒλ‹¨μ **ν”„λ΅μ νΈ μ„ νƒ** λ“λ΅­λ‹¤μ΄ ν΄λ¦­
   - "λ‚΄ ν”„λ΅μ νΈ" λλ” ν„μ¬ ν”„λ΅μ νΈ μ΄λ¦„μ΄ ν‘μ‹λ λ¶€λ¶„
   
2. **μƒ ν”„λ΅μ νΈ** λ²„νΌ ν΄λ¦­

3. ν”„λ΅μ νΈ μ •λ³΄ μ…λ ¥:
   ```
   ν”„λ΅μ νΈ μ΄λ¦„: pikurate-grant-assistant
   μ΅°μ§: (μ—†μμΌλ΅ λ‘κ±°λ‚ νμ‚¬ μ΅°μ§ μ„ νƒ)
   μ„μΉ: (μ΅°μ§μ΄ μ—†μΌλ©΄ ν‘μ‹ μ•λ¨)
   ```

4. **λ§λ“¤κΈ°** λ²„νΌ ν΄λ¦­

5. ν”„λ΅μ νΈ μƒμ„± μ™„λ£ λ€κΈ° (μ•½ 10~30μ΄)
   - μƒλ‹¨ μ•λ¦Ό λ²¨ μ•„μ΄μ½μ—μ„ "ν”„λ΅μ νΈκ°€ μƒμ„±λμ—μµλ‹λ‹¤" ν™•μΈ

6. **ν”„λ΅μ νΈ μ„ νƒ** ν΄λ¦­ν•μ—¬ λ°©κΈ λ§λ“  ν”„λ΅μ νΈλ΅ μ „ν™
   - μƒλ‹¨μ— "pikurate-grant-assistant" ν‘μ‹ ν™•μΈ

---

## 2. API ν™μ„±ν™”

### λ‹¨κ³„ 2-1: API λΌμ΄λΈλ¬λ¦¬λ΅ μ΄λ™
1. μΆμΈ΅ λ©”λ‰΄μ—μ„ **β° (ν–„λ²„κ±° λ©”λ‰΄)** ν΄λ¦­
2. **API λ° μ„λΉ„μ¤** β†’ **λΌμ΄λΈλ¬λ¦¬** ν΄λ¦­

### λ‹¨κ³„ 2-2: Google Docs API ν™μ„±ν™”
1. κ²€μƒ‰μ°½μ— `Google Docs API` μ…λ ¥
2. κ²€μƒ‰ κ²°κ³Όμ—μ„ **Google Docs API** ν΄λ¦­
3. **μ‚¬μ©** λλ” **μ‚¬μ© μ„¤μ •** λ²„νΌ ν΄λ¦­
4. API ν™μ„±ν™” μ™„λ£ λ€κΈ° (μλ™μΌλ΅ API κ°μ” νμ΄μ§€λ΅ μ΄λ™)

### λ‹¨κ³„ 2-3: Google Drive API ν™μ„±ν™”
1. λ‹¤μ‹ **λΌμ΄λΈλ¬λ¦¬** νμ΄μ§€λ΅ μ΄λ™
   - μΆμΈ΅ λ©”λ‰΄: API λ° μ„λΉ„μ¤ β†’ λΌμ΄λΈλ¬λ¦¬
2. κ²€μƒ‰μ°½μ— `Google Drive API` μ…λ ¥
3. κ²€μƒ‰ κ²°κ³Όμ—μ„ **Google Drive API** ν΄λ¦­
4. **μ‚¬μ©** λλ” **μ‚¬μ© μ„¤μ •** λ²„νΌ ν΄λ¦­
5. API ν™μ„±ν™” μ™„λ£ λ€κΈ°

---

## 3. OAuth λ™μ ν™”λ©΄ κµ¬μ„±

### λ‹¨κ³„ 3-1: OAuth λ™μ ν™”λ©΄μΌλ΅ μ΄λ™
1. μΆμΈ΅ λ©”λ‰΄: **API λ° μ„λΉ„μ¤** β†’ **OAuth λ™μ ν™”λ©΄** ν΄λ¦­

### λ‹¨κ³„ 3-2: μ‚¬μ©μ μ ν• μ„ νƒ
1. **μ™Έλ¶€** λΌλ””μ¤ λ²„νΌ μ„ νƒ
   - μ΅°μ§ κ³„μ •μ΄ μ•„λ‹ κ²½μ° "λ‚΄λ¶€"λ” μ„ νƒ λ¶κ°€λ¥
2. **λ§λ“¤κΈ°** λ²„νΌ ν΄λ¦­

### λ‹¨κ³„ 3-3: μ•± μ •λ³΄ μ…λ ¥ (1/4 λ‹¨κ³„)
```
μ•± μ΄λ¦„*: ν”Όνλ μ‡ μ •λ¶€κ³Όμ  μ‹ μ²­μ„ λ„μ°λ―Έ

μ‚¬μ©μ μ§€μ› μ΄λ©”μΌ*: [λ³ΈμΈ μ΄λ©”μΌ μ£Όμ† μ„ νƒ]

μ•± λ΅κ³ : (μ„ νƒμ‚¬ν•­ - κ±΄λ„λ›°κΈ° κ°€λ¥)

μ•± λ„λ©”μΈ: (μ„ νƒμ‚¬ν•­ - κ±΄λ„λ›°κΈ° κ°€λ¥)

μΉμΈλ λ„λ©”μΈ: (λΉ„μ›λ‘κΈ°)

κ°λ°μ μ—°λ½μ² μ •λ³΄*: [λ³ΈμΈ μ΄λ©”μΌ μ£Όμ† μ…λ ¥]
```

**μ €μ¥ ν›„ κ³„μ†** λ²„νΌ ν΄λ¦­

### λ‹¨κ³„ 3-4: λ²”μ„ μ¶”κ°€ (2/4 λ‹¨κ³„)
1. **λ²”μ„ μ¶”κ°€ λλ” μ‚­μ ** λ²„νΌ ν΄λ¦­

2. ν•„ν„° κ²€μƒ‰μ°½μ— `docs` μ…λ ¥

3. λ‹¤μ ν•­λ© μ²΄ν¬:
   - β… `.../auth/documents` (Google λ¬Έμ„ λ³΄κΈ°, μμ •, μƒμ„±, μ‚­μ )
   - λλ” λ” μ ν•μ μΌλ΅: `.../auth/documents.readonly` (μ½κΈ° μ „μ©)

4. ν•„ν„° κ²€μƒ‰μ°½μ— `drive` μ…λ ¥

5. λ‹¤μ ν•­λ© μ²΄ν¬:
   - β… `.../auth/drive.file` (μ•±μ—μ„ μ‚¬μ©ν•κ±°λ‚ λ§λ“  νμΌλ§ λ³΄κΈ°, μμ •)

6. **μ—…λ°μ΄νΈ** λ²„νΌ ν΄λ¦­

7. **μ €μ¥ ν›„ κ³„μ†** λ²„νΌ ν΄λ¦­

### λ‹¨κ³„ 3-5: ν…μ¤νΈ μ‚¬μ©μ (3/4 λ‹¨κ³„)
κ°λ°/ν…μ¤νΈ λ‹¨κ³„μ—μ„λ” ν…μ¤νΈ μ‚¬μ©μ μ¶”κ°€ κ¶μ¥:

1. **ADD USERS** λ²„νΌ ν΄λ¦­
2. λ³ΈμΈ μ΄λ©”μΌ μ£Όμ† μ…λ ¥
3. **μ¶”κ°€** λ²„νΌ ν΄λ¦­
4. **μ €μ¥ ν›„ κ³„μ†** λ²„νΌ ν΄λ¦­

### λ‹¨κ³„ 3-6: μ”μ•½ (4/4 λ‹¨κ³„)
- μ…λ ¥ν• μ •λ³΄ ν™•μΈ
- **λ€μ‹λ³΄λ“λ΅ λμ•„κ°€κΈ°** ν΄λ¦­

---

## 4. OAuth 2.0 ν΄λΌμ΄μ–ΈνΈ ID μƒμ„±

### λ‹¨κ³„ 4-1: μ‚¬μ©μ μΈμ¦ μ •λ³΄ νμ΄μ§€λ΅ μ΄λ™
1. μΆμΈ΅ λ©”λ‰΄: **API λ° μ„λΉ„μ¤** β†’ **μ‚¬μ©μ μΈμ¦ μ •λ³΄** ν΄λ¦­

### λ‹¨κ³„ 4-2: OAuth ν΄λΌμ΄μ–ΈνΈ ID λ§λ“¤κΈ°
1. μƒλ‹¨μ **+ μ‚¬μ©μ μΈμ¦ μ •λ³΄ λ§λ“¤κΈ°** λ²„νΌ ν΄λ¦­
2. **OAuth ν΄λΌμ΄μ–ΈνΈ ID** μ„ νƒ

### λ‹¨κ³„ 4-3: μ• ν”λ¦¬μΌ€μ΄μ… μ ν• μ„ νƒ
```
μ• ν”λ¦¬μΌ€μ΄μ… μ ν•*: μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…

μ΄λ¦„*: Pikurate Grant Assistant Web Client
```

### λ‹¨κ³„ 4-4: μΉμΈλ μλ°”μ¤ν¬λ¦½νΈ μ›λ³Έ μ¶”κ°€
1. **μΉμΈλ μλ°”μ¤ν¬λ¦½νΈ μ›λ³Έ** μ„Ήμ…μ—μ„ **+ URI μ¶”κ°€** ν΄λ¦­
2. λ‹¤μ URI μ…λ ¥:
   ```
   http://localhost:5173
   ```
3. λ‚μ¤‘μ— λ°°ν¬ μ‹ μ¶”κ°€ν•  URI (μ§€κΈμ€ κ±΄λ„λ›°κΈ°):
   ```
   https://[λ°°ν¬λ ν”„λ΅ νΈμ—”λ“ λ„λ©”μΈ]
   ```

### λ‹¨κ³„ 4-5: μΉμΈλ λ¦¬λ””λ ‰μ… URI μ¶”κ°€
1. **μΉμΈλ λ¦¬λ””λ ‰μ… URI** μ„Ήμ…μ—μ„ **+ URI μ¶”κ°€** ν΄λ¦­
2. λ‹¤μ URI μ…λ ¥:
   ```
   http://localhost:3000/auth/google/callback
   ```
3. λ‚μ¤‘μ— λ°°ν¬ μ‹ μ¶”κ°€ν•  URI (μ§€κΈμ€ κ±΄λ„λ›°κΈ°):
   ```
   https://[λ°°ν¬λ λ°±μ—”λ“ λ„λ©”μΈ]/auth/google/callback
   ```

### λ‹¨κ³„ 4-6: ν΄λΌμ΄μ–ΈνΈ ID μƒμ„± μ™„λ£
1. **λ§λ“¤κΈ°** λ²„νΌ ν΄λ¦­
2. **OAuth ν΄λΌμ΄μ–ΈνΈ μƒμ„±λ¨** νμ—… μ°½μ΄ λ‚νƒ€λ‚¨
3. λ‹¤μ μ •λ³΄ λ³µμ‚¬ λ° μ•μ „ν•κ² λ³΄κ΄€:
   ```
   ν΄λΌμ΄μ–ΈνΈ ID: [xxxxx.apps.googleusercontent.com]
   ν΄λΌμ΄μ–ΈνΈ λ³΄μ• λΉ„λ°€λ²νΈ: [GOCSPX-xxxxx]
   ```
4. **ν™•μΈ** λ²„νΌ ν΄λ¦­

> β οΈ **μ¤‘μ”**: ν΄λΌμ΄μ–ΈνΈ λ³΄μ• λΉ„λ°€λ²νΈλ” λ‹¤μ‹ ν™•μΈν•  μ μμ§€λ§, μµμ΄ μƒμ„± μ‹ λ³µμ‚¬ν•΄λ‘λ” κ²ƒμ΄ μ•μ „ν•©λ‹λ‹¤.

### λ‹¨κ³„ 4-7: (μ„ νƒ) λ‚μ¤‘μ— λ‹¤μ‹ ν™•μΈν•λ” λ°©λ²•
1. **μ‚¬μ©μ μΈμ¦ μ •λ³΄** νμ΄μ§€μ—μ„ μƒμ„±ν• OAuth ν΄λΌμ΄μ–ΈνΈ μ΄λ¦„ ν΄λ¦­
2. ν΄λΌμ΄μ–ΈνΈ ID λ° ν΄λΌμ΄μ–ΈνΈ λ³΄μ• λΉ„λ°€λ²νΈ ν™•μΈ κ°€λ¥
3. JSON λ‹¤μ΄λ΅λ“ λ²„νΌμΌλ΅ μ „μ²΄ μ •λ³΄ λ‹¤μ΄λ΅λ“ κ°€λ¥

---

## 5. ν™κ²½ λ³€μ μ„¤μ •

### λ‹¨κ³„ 5-1: λ°±μ—”λ“ ν™κ²½ λ³€μ νμΌ μμ •
λ³µμ‚¬ν• ν΄λΌμ΄μ–ΈνΈ IDμ™€ ν΄λΌμ΄μ–ΈνΈ λ³΄μ• λΉ„λ°€λ²νΈλ¥Ό μ‚¬μ©ν•μ—¬:

```bash
# backend/.env νμΌ μμ •
GOOGLE_CLIENT_ID=[λ³µμ‚¬ν• ν΄λΌμ΄μ–ΈνΈ ID]
GOOGLE_CLIENT_SECRET=[λ³µμ‚¬ν• ν΄λΌμ΄μ–ΈνΈ λ³΄μ• λΉ„λ°€λ²νΈ]
```

### λ‹¨κ³„ 5-2: μ„¤μ • ν™•μΈ
λ¨λ“  μ„¤μ •μ΄ μ™„λ£λμ—λ”μ§€ μ²΄ν¬λ¦¬μ¤νΈ:

- [ ] Google Cloud ν”„λ΅μ νΈ μƒμ„± μ™„λ£
- [ ] Google Docs API ν™μ„±ν™”
- [ ] Google Drive API ν™μ„±ν™”
- [ ] OAuth λ™μ ν™”λ©΄ κµ¬μ„± μ™„λ£
- [ ] ν…μ¤νΈ μ‚¬μ©μ μ¶”κ°€ (λ³ΈμΈ μ΄λ©”μΌ)
- [ ] OAuth 2.0 ν΄λΌμ΄μ–ΈνΈ ID μƒμ„± μ™„λ£
- [ ] ν΄λΌμ΄μ–ΈνΈ ID λ³µμ‚¬ μ™„λ£
- [ ] ν΄λΌμ΄μ–ΈνΈ λ³΄μ• λΉ„λ°€λ²νΈ λ³µμ‚¬ μ™„λ£
- [ ] ν™κ²½ λ³€μ νμΌ μ¤€λΉ„ μ™„λ£

---

## π“Έ μ¤ν¬λ¦°μƒ· μ°Έκ³  μ„μΉ

κ° λ‹¨κ³„λ³„ ν™”λ©΄ μΊ΅μ²κ°€ ν•„μ”ν•μ‹λ©΄ λ‹¤μ κ³µμ‹ λ¬Έμ„λ¥Ό μ°Έκ³ ν•μ„Έμ”:

1. **ν”„λ΅μ νΈ μƒμ„±**: https://cloud.google.com/resource-manager/docs/creating-managing-projects
2. **API ν™μ„±ν™”**: https://cloud.google.com/apis/docs/getting-started
3. **OAuth λ™μ ν™”λ©΄**: https://support.google.com/cloud/answer/10311615
4. **OAuth ν΄λΌμ΄μ–ΈνΈ ID**: https://developers.google.com/identity/protocols/oauth2/web-server

---

## β“ λ¬Έμ  ν•΄κ²°

### Q1: "μ΄ μ•±μ€ Googleμ—μ„ μΈμ¦ν•μ§€ μ•μ•μµλ‹λ‹¤" κ²½κ³ κ°€ λ‚νƒ€λ‚λ” κ²½μ°
- **μ›μΈ**: μ•±μ΄ μ•„μ§ "κ²μ‹" μƒνƒκ°€ μ•„λ‹ (κ°λ° λ‹¨κ³„)
- **ν•΄κ²°**: ν…μ¤νΈ μ‚¬μ©μλ΅ μ¶”κ°€λ κ³„μ •μΌλ΅ λ΅κ·ΈμΈν•κ³  "κ³ κΈ‰" β†’ "μ•μ „ν•μ§€ μ•μ€ νμ΄μ§€λ΅ μ΄λ™" ν΄λ¦­

### Q2: λ¦¬λ””λ ‰μ… URI λ¶μΌμΉ μ¤λ¥
- **μ›μΈ**: μ„¤μ •ν• URIμ™€ μ‹¤μ  μ”μ²­ URIκ°€ λ‹¤λ¦„
- **ν•΄κ²°**: OAuth ν΄λΌμ΄μ–ΈνΈ μ„¤μ •μ—μ„ μ •ν™•ν• URI μ¶”κ°€ (ν¬νΈ λ²νΈ, http/https ν™•μΈ)

### Q3: λ²”μ„(scope) μ¤λ¥
- **μ›μΈ**: OAuth λ™μ ν™”λ©΄μ— ν•„μ”ν• λ²”μ„κ°€ μ¶”κ°€λμ§€ μ•μ
- **ν•΄κ²°**: OAuth λ™μ ν™”λ©΄ β†’ λ²”μ„ νΈμ§‘μ—μ„ ν•„μ”ν• API λ²”μ„ μ¶”κ°€

---

## π― λ‹¤μ λ‹¨κ³„

μ„¤μ • μ™„λ£ ν›„:
1. ν΄λΌμ΄μ–ΈνΈ IDμ™€ ν΄λΌμ΄μ–ΈνΈ λ³΄μ• λΉ„λ°€λ²νΈλ¥Ό λ³µμ‚¬ν•μ—¬ μ•λ ¤μ£Όμ„Έμ”
2. λ°±μ—”λ“ λ° ν”„λ΅ νΈμ—”λ“ μ½”λ“ κµ¬ν„μ„ μ§„ν–‰ν•κ² μµλ‹λ‹¤
3. Google λ΅κ·ΈμΈ λ° Docs λ‚΄λ³΄λ‚΄κΈ° κΈ°λ¥ ν…μ¤νΈ

---

**λ§μ§€λ§‰ μ—…λ°μ΄νΈ**: 2025-11-22
